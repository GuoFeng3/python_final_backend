# AI房产数据智能分析工具使用说明

## 1. 工具概述

本工具是一个基于Django框架开发的房产交易数据智能分析系统，集成了多种数据分析与预测功能，用于支持房产市场研究、趋势分析和价格预测。工具采用Numpy等数据科学库实现高效的数据处理与分析，并提供RESTful API接口供外部系统调用。

## 2. 使用范围

### 2.1 适用场景
- **房产市场分析**：统计不同区域、户型、面积区间的房价走势
- **投资决策支持**：基于历史数据预测未来房价走势
- **政策效果评估**：分析不同时间维度的交易数据变化
- **市场趋势监控**：实时掌握房产市场动态变化

### 2.2 数据覆盖
- 支持多城市房产交易数据
- 包含详细的房屋属性信息（户型、面积、朝向、楼层等）
- 提供历史交易价格与成交日期记录

## 3. API接口说明

### 3.1 基础参数说明

| 参数名 | 别名 | 类型 | 说明 | 示例 |
|--------|------|------|------|------|
| district | 行政区名 | 字符串 | 行政区名称或'all'（全部） | '朝阳区'或'all' |
| city | - | 字符串 | 城市名称（可选） | '北京' |
| layout | - | 字符串 | 户型（可选，默认为'all'） | '1室1厅'或'all' |

### 3.2 数据统计与分析接口

#### 3.2.1 整体统计指标
**接口地址**：`/total-any/`
**功能**：计算并返回房产交易数据的整体统计指标
**返回**：平均单价、单价中位数、平均总价、总价中位数、平均面积、交易数量

#### 3.2.2 城区房价排名
**接口地址**：`/total-avg-price/`
**功能**：返回各城区房产平均单价的排名信息（从高到低排序）
**返回**：城区名称、平均单价

#### 3.2.3 月度交易趋势
**接口地址**：`/month-trend/`
**功能**：获取指定区域的月度平均房价趋势
**返回**：月份、平均单价

#### 3.2.4 季度交易趋势
**接口地址**：`/quarter-trend/`
**功能**：获取指定区域的季度平均房价趋势
**返回**：季度（YYYYQx格式）、平均单价

#### 3.2.5 细分区域房价排名
**接口地址**：`/district-area-rank/`
**功能**：获取指定行政区下各细分区域的平均房价排名
**返回**：细分区域名称、平均单价、交易数量

#### 3.2.6 朝向房价分析
**接口地址**：`/direction-price/`
**功能**：分析不同房屋朝向的平均单价
**返回**：朝向、平均单价

#### 3.2.7 面积区间统计
**接口地址**：`/squaremeter-avgprice/`
**功能**：按面积区间统计平均单价、平均总价和成交量
**返回**：面积区间、平均单价、平均总价、成交量

#### 3.2.8 户型数据分析
**接口地址**：`/room-hall-any/`
**功能**：返回不同房型的成交量和平均单价（按成交量排序）
**返回**：户型、平均单价、成交量

### 3.3 价格预测接口

#### 3.3.1 未来三个月房价预测
**接口地址**：`/predict-price/`
**功能**：基于历史月均价预测未来三个月房价
**参数**：district（必填）、city（可选）、layout（可选）
**返回**：未来三个月的月份、预测均价

### 3.4 数据导入接口

#### 3.4.1 房产数据导入
**接口地址**：`/add-data/`
**功能**：接收CSV/Excel文件并将数据存入数据库
**请求方式**：POST
**参数**：file（文件）、city（可选）

## 4. 使用方式

### 4.1 基本调用格式

```
GET http://[服务器地址]/[接口地址]/?[参数名1]=[值1]&[参数名2]=[值2]
```

### 4.2 示例调用

#### 4.2.1 查询北京市朝阳区的整体统计指标
```
GET http://localhost:8000/total-any/?district=朝阳区&city=北京
```

#### 4.2.2 预测上海市浦东新区未来三个月房价
```
GET http://localhost:8000/predict-price/?district=浦东新区&city=上海
```

#### 4.2.3 按面积区间统计广州市天河区房价
```
GET http://localhost:8000/squaremeter-avgprice/?district=天河区&city=广州
```

## 5. 注意事项

### 5.1 数据质量
- 确保导入的数据格式正确，避免无效数据影响分析结果
- 面积字段应大于0，否则会被过滤掉
- 户型等分类字段应保持统一格式

### 5.2 性能优化
- 对于大数据量查询，建议使用城市和行政区参数进行过滤
- 避免同时调用多个复杂分析接口
- 预测功能需要至少2个月的历史数据才能生成有效结果

### 5.3 安全规范
- API接口未设置权限控制，建议在生产环境中添加认证机制
- 避免在URL中传递敏感信息
- 定期备份数据库，防止数据丢失

## 6. 技术支持

若在使用过程中遇到问题，请联系技术支持团队：
- 技术文档：[项目文档地址]
- 问题反馈：[反馈邮箱]
- 版本更新：[更新日志地址]

---

**版本**：v1.0  
**发布日期**：2024年6月  
**版权所有**：[版权声明]